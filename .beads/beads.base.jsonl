{"id":"sol-commons-1s3","content_hash":"f48e1ab39663d4b1f4cc1bcbbf9d9c23e3bf2029a1caaef4230d8672ea1297c1","title":"Implement conviction voting math + lifecycle","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T10:22:38.815939166-05:00","updated_at":"2025-11-17T13:31:59.073668237-05:00","closed_at":"2025-11-17T13:31:59.073668237-05:00","source_repo":"."}
{"id":"sol-commons-2bh","content_hash":"06e3594bb9b8744c1d55aeb593ebd724cca96be2d76086cc182b50997ad7b817","title":"Bootstrap off-chain services + integration tests","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T10:23:05.332258192-05:00","updated_at":"2025-11-17T10:23:05.332258192-05:00","source_repo":"."}
{"id":"sol-commons-2xr","content_hash":"3f731521c40a8c6fa126f0b61efb142428fba039ac1eee62718eb695e919fd26","title":"Design conviction voting state machine and secure treasury","description":"- Recompute conviction, thresholds, and decay on each vote to ensure proposals only pass when the math warrants it instead of simply flipping `threshold_met = true`.\n- Define canonical staking vault PDA(s) and enforce them via `AccountInfo` checks so staked funds cannot be redirected through unchecked accounts.\n- Tighten treasury transfers/authority checks inside `check_and_execute` so only the registered `cv_config_authority` can execute, and ensure the PDA seeds for staking/treasury authorities remain deterministic.\n- Back the state machine with anchored tests that cover decay over time, threshold failures, and treasury-security edge cases before shifting into Phase-2 wiring.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T00:52:13.15637492-05:00","updated_at":"2025-11-17T00:52:13.15637492-05:00","source_repo":".","dependencies":[{"issue_id":"sol-commons-2xr","depends_on_id":"sol-commons-3rl","type":"blocks","created_at":"2025-11-17T00:52:30.00264284-05:00","created_by":"daemon"}]}
{"id":"sol-commons-2z5","content_hash":"cc819950870af6156ca747086ef1b532d66b8e752b3b6923ddb9ee7c2e212f5b","title":"Fix commons_hatch PDA/Merkle gating and finalize flows","description":"- Ensure `hatch_vault` is a PDA derived from `[\"hatch_vault\", reserve_mint]` so CPI signing works consistently.\n- Harden the Merkle gate so proofs depend only on contributor identity while allocations are enforced via signed metadata or per-stage leaves, preventing forged deposit amounts.\n- Implement finalize/claim/refund flows that instantiate `commons_abc`, respect raise caps, mint tokens, and guarantee refunds before closing instead of the current TODOs.\n- Add Anchor tests covering happy and failed hatch paths before wiring the ABC math layer, proving the Phase-1 blocking work.","notes":"Added precise ABC math helpers backed by spl-math (no-entrypoint feature), computed reserve/supply invariants plus friction splits, and anchored the buy/sell flows with the new deterministic integration test harness.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-11-17T00:51:37.263360761-05:00","updated_at":"2025-11-17T10:09:23.302099231-05:00","source_repo":"."}
{"id":"sol-commons-3rl","content_hash":"967d9efee1e7dea193412f9c967d374d0dddf8de9b41dd517ca8288e4f3c1e31","title":"Implement commons_abc curve math, PDA seeds, and simulation harness","description":"- Replace the placeholder pricing/reserve/common-pool splits/tribute logic with the real bonding-curve equations so buys/sells price correctly instead of hard-coded constants.\n- Clarify the fixed-point math and ensure CPI signing seeds are consistent (`[\"curve_config\", commons_token_mint]` vs `[\"curve_config\", reserve_mint]`) so transfers via CPI succeed.\n- Back the math with unit tests that cover buys, sells, tributes, and edge cases, and add the local simulation harness described in ROADMAP §3.7 to feed deterministic parameters through both programs.\n- Reconcile PDA derivations (curve config, vaults, authorities) so CPI seeds/signers remain stable across sell/tribute flows and future phases.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-17T00:52:01.318714961-05:00","updated_at":"2025-11-17T00:52:01.318714961-05:00","source_repo":".","dependencies":[{"issue_id":"sol-commons-3rl","depends_on_id":"sol-commons-2z5","type":"blocks","created_at":"2025-11-17T00:52:27.082566073-05:00","created_by":"daemon"}]}
{"id":"sol-commons-dvi","content_hash":"11144cf3f458d06b0d66f00e021af66f73584c33f85f8a3081452bdd2117c78f","title":"Fix reward claim PDA signer","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-17T10:22:42.193205289-05:00","updated_at":"2025-11-17T13:36:37.069424678-05:00","closed_at":"2025-11-17T13:36:37.069424678-05:00","source_repo":"."}
{"id":"sol-commons-sbm","content_hash":"3b413e182064d5d745c70df67736715d27e5834ef4ad0342148ab442ed84e7f6","title":"Add rewards claim protection and wire Praise/Tokenlog services","description":"- Introduce replay protection for `claim_reward` using a claimed bitmap/account so rewards cannot be claimed repeatedly, and fix reward vault signer seeds to use real PDA bumps instead of pulling the first byte of the authority pubkey.\n- Expand the off-chain layer (Praise/Tokenlog service, TypeScript clients, end-to-end tests) so it can produce Merkle roots, balance snapshots, and feed deterministic data into the on-chain programs as described in the ROADMAP.\n- Build or integrate the missing simulator harness for Praise/Tokenlog and the other off-chain components so the system can execute full hatch → ABC → conviction/reward flows locally.\n- Document how the off-chain services tie into the on-chain PDA derivations so future work can trust that merkle roots and claims align with the deployed programs.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-17T00:52:23.006627701-05:00","updated_at":"2025-11-17T00:52:23.006627701-05:00","source_repo":".","dependencies":[{"issue_id":"sol-commons-sbm","depends_on_id":"sol-commons-3rl","type":"blocks","created_at":"2025-11-17T00:52:33.310751134-05:00","created_by":"daemon"}]}
{"id":"sol-commons-v17","content_hash":"2ec39c9959df111c612bd789c2bd0eca54a4c68a46bd079a342d5a5cd657bf93","title":"Harden hatch contribution gating","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-17T10:22:45.572112777-05:00","updated_at":"2025-11-17T10:22:45.572112777-05:00","source_repo":"."}
